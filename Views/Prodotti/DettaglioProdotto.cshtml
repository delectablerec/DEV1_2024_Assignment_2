@model DettaglioProdottoViewModel
@{
    ViewData["Title"] = "Dettaglio Prodotto";
}

<div class="container my-5">
    <div class="row">
        <!-- Colonna immagine principale e galleria -->
        <div class="col-lg-5 d-flex flex-column align-items-center">
            <!-- Immagine principale del prodotto -->
            <img src="@Model.Orologio.UrlImmagine" alt="@Model.Orologio.Modello @Model.Orologio.Marca" class="img-fluid rounded mb-3" style="max-width: 100%; height: auto;">
        </div>

        <!-- Colonna dettagli del prodotto "appiccicosa" -->
        <div class="col-lg-5 sticky-column d-flex flex-column align-items-start">
            <h1 class="fw-bold">@Model.Orologio.Modello</h1>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit.</p>
        <!--     <a class="text-decoration-underline" style="color: #333;" data-bs-toggle="collapse" href="#moreText" role="button" aria-expanded="false" aria-controls="moreText">Leggi di più</a>-->

            <span id="moreText" style="display: none;">
                Lorem ipsum dolor sit amet consectetur adipisicing elit.
                Temporibus fuga deleniti voluptatem maiores necessitatibus autem corrupti,
                dolore iure. Nulla libero iure eaque, doloribus animi labore velit. Aliquam magni sed nihil.
            </span>
            <a href="javascript:void(0)" onclick="toggleText()" id="readMoreLink" style="color: #333;" class="text-decoration-underline">Leggi di più</a>
            
            <p class="fs-4 mt-3"><strong>@Model.Orologio.Prezzo</strong> <small class="text-muted">IVA incl.</small></p>

            @if(Model.Orologio.Giacenza >0)
            {
                <a asp-controller="Carrello" asp-action="AggiungiACarrello" asp-route-id="@Model.Orologio.Id" class="btn btn-dark btn-lg w-100 mb-3"> AGGIUNGI AL CARRELLO </a>
            }

            <!-- Opzioni aggiuntive -->
            <div class="mb-3">
                <p><i class="bi bi-telephone"></i> ORDINA AL TELEFONO (+39) 000000000</p>
            </div>

            <!-- Share e riferimento -->
            <div class="d-flex justify-content-between w-100">
                <a href="#" class="text-decoration-none"style="color: #333;"><i class="bi bi-share"></i> SHARE</a>
                <span class="text-muted">Ref. RGX10000</span>
            </div>
        </div>
    </div>

    <!-- Specifiche tecniche e nav tabs -->
    <div class="specifiche-tecniche">
        <h4>Specifiche</h4>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="generiche-tab" data-bs-toggle="tab" data-bs-target="#generiche" type="button" role="tab" aria-controls="generiche" aria-selected="true">Generiche</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tecniche-tab" data-bs-toggle="tab" data-bs-target="#tecniche" type="button" role="tab" aria-controls="tecniche" aria-selected="false">Tecniche</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="estetiche-tab" data-bs-toggle="tab" data-bs-target="#estetiche" type="button" role="tab" aria-controls="estetiche" aria-selected="false">Estetiche</button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <!-- Sezione Generica -->
            <div class="tab-pane fade show active p-3" id="generiche" role="tabpanel" aria-labelledby="generiche-tab">
                <div class="tech-info">
                    <div>
                        <h5>Categoria</h5>
                        <p>@Model.Orologio.Categoria.Nome</p>
                    </div>
                    <div>
                        <h5>Genere</h5>
                        <p>@Model.Orologio.Genere.Nome</p>
                    </div>
                    <div>
                        <h5>Marca</h5>
                        <p>@Model.Orologio.Marca.Nome</p>
                    </div>
                    <div>
                        <h5>Modello</h5>
                        <p>@Model.Orologio.Modello</p>
                    </div>
                </div>
            </div>

            <!-- Sezione Tecnica -->
            <div class="tab-pane fade p-3" id="tecniche" role="tabpanel" aria-labelledby="tecniche-tab">
                <div class="tech-info">
                    <div>
                        <h5>Referenza</h5>
                        <p>@Model.Orologio.Referenza</p>
                    </div>
                    <div>
                        <h5>Diametro</h5>
                        <p>@Model.Orologio.Diametro</p>
                    </div>
                    <div>
                        <h5>Tipologia</h5>
                        <p>@Model.Orologio.Tipologia.Nome</p>
                    </div>
                </div>
            </div>

            <!-- Sezione Estetica -->
            <div class="tab-pane fade p-3" id="estetiche" role="tabpanel" aria-labelledby="estetiche-tab">
                <div class="tech-info">
                    <div>
                        <h5>Materiale</h5>
                        <p>@Model.Orologio.Materiale.Nome</p>
                    </div>
                    <div>
                        <h5>Colore</h5>
                        <p>@Model.Orologio.Colore</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sezione newsletter -->
    <div class="my-4 text-center">
        <h5>Iscriviti alla newsletter</h5>
        <form class="row justify-content-center g-3">
            <div class="col-auto">
                <label for="email" class="visually-hidden">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Email">
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-dark mb-3">Iscriviti</button>
            </div>
        </form>
    </div>
</div>

<style>
    /* Stile generale per la colonna "sticky" */
    .sticky-column {
        position: sticky;
        top: 20px;
    }

    /* Stile generale per la sezione delle specifiche tecniche */
    .specifiche-tecniche {
        background-color: #eeeeee;
        padding: 30px;
        border-radius: 8px;
        margin-top: 2rem;
        margin-bottom: 2rem;
    }

    /* Stile del titolo principale */
    .specifiche-tecniche h4 {
        font-weight: bold;
        font-size: 1.5rem;
        text-transform: uppercase;
    }

    /* Stile per i tab */
    .nav-tabs .nav-link {
        color: #333;
        font-weight: bold;
        font-size: 1rem;
    }
    .nav-tabs .nav-link.active {
        color: black;
        border-color: black;
        border-width: 2px;
    }

    /* Stile per le informazioni tecniche */
    .specifiche-tecniche .tech-info {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-top: 1rem;
    }
    .specifiche-tecniche .tech-info div {
        flex: 1 1 45%;
        font-size: 1rem;
    }
    .specifiche-tecniche .tech-info div h5 {
        font-weight: bold;
        margin-bottom: 0.2rem;
    }

    /* Margine per spostare l'immagine Rolex Box in basso */
    .img-box {
        margin-top: 1rem;
    }
    .bi .bi-share{
        color:black;
    }
</style>

<script>
    function toggleText() {
        // Seleziona l'elemento contenente il testo aggiuntivo tramite l'ID "moreText"
        const moreText = document.getElementById("moreText");
        
        // Seleziona il link per leggere di più/di meno tramite l'ID "readMoreLink"
        const readMoreLink = document.getElementById("readMoreLink");

        // Verifica se il testo aggiuntivo è attualmente nascosto (display: none)
        if (moreText.style.display === "none") {
            // Se è nascosto, lo rende visibile impostando display a "inline"
            moreText.style.display = "inline";
            
            // Cambia il testo del link a "Leggi di meno" per consentire di nascondere il testo
            readMoreLink.innerHTML = "Leggi di meno";
        } else {
            // Se il testo è visibile, lo nasconde nuovamente impostando display a "none"
            moreText.style.display = "none";
            
            // Cambia il testo del link a "Leggi di più" per consentire di mostrare di nuovo il testo
            readMoreLink.innerHTML = "Leggi di più";
        }
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Bootstrap Icons CDN for icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
